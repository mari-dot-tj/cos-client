(function(e){function t(t){for(var n,i,s=t[0],c=t[1],l=t[2],d=0,v=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&v.push(o[i][0]),o[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(v.length)v.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==o[c]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={app:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"007d":function(e,t,r){},"0bda":function(e,t,r){},"0d91":function(e,t,r){},"117c":function(e,t,r){"use strict";var n=r("e1fd"),o=r.n(n);o.a},"143a":function(e,t,r){"use strict";var n=r("97c4"),o=r.n(n);o.a},"1d77":function(e,t,r){"use strict";var n=r("3d95"),o=r.n(n);o.a},"1e89":function(e,t,r){"use strict";var n=r("007d"),o=r.n(n);o.a},"2c43":function(e,t,r){},"36a1":function(e,t,r){},"3d95":function(e,t,r){},"54a9":function(e,t,r){},"6ca7c":function(e,t,r){"use strict";var n=r("e551"),o=r.n(n);o.a},7314:function(e,t,r){},7590:function(e,t,r){"use strict";var n=r("0d91"),o=r.n(n);o.a},"75c2":function(e,t,r){"use strict";var n=r("36a1"),o=r.n(n);o.a},"778b":function(e,t,r){},"97c4":function(e,t,r){},b17d:function(e,t,r){"use strict";var n=r("54a9"),o=r.n(n);o.a},be28:function(e,t,r){"use strict";var n=r("2c43"),o=r.n(n);o.a},c080:function(e,t,r){},c68f:function(e,t,r){"use strict";var n=r("c080"),o=r.n(n);o.a},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-content",[r("v-container",{attrs:{fluid:""}},[r("router-view")],1)],1)],1)},a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{staticClass:"general",attrs:{app:"",fixed:"",light:"",dense:"",height:"80px"}},[n("v-img",{attrs:{src:r("cf05"),"max-height":"100px","max-width":"100px"}}),n("v-toolbar-items",e._l(e.navBarItems,(function(e){return n("NavBarButton",{key:e.text,attrs:{text:e.text,link:e.link}})})),1),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{text:""},on:{click:e.logout}},[e._v("Log out")])],1)],1)],1)},s=[],c=r("5530"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-btn",{attrs:{id:"btn-active",text:"","active-class":"active",to:e.link}},[e._v(" "+e._s(e.text)+" ")])},u=[],d={name:"NavBarButton",data:function(){return{}},props:{text:{type:String,required:!0},isActive:{type:Boolean},link:{type:String}}},v=d,p=(r("ef1a"),r("2877")),m=r("6544"),f=r.n(m),h=r("8336"),g=Object(p["a"])(v,l,u,!1,null,null,null),b=g.exports;f()(g,{VBtn:h["a"]});r("96cf");var w=r("1da1"),_=r("d4ec"),O=r("bee2"),y=r("bc3a"),k=r.n(y),x=k.a.create({baseURL:void 0!==Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_URL?Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_URL:"/",headers:{"Content-Type":"application/json"}}),D=x,C=function(){function e(){Object(_["a"])(this,e),this.END_POINT="/customer"}return Object(O["a"])(e,[{key:"login",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={email:t,password:r},o=JSON.stringify(n),e.abrupt("return",D.post(this.END_POINT+"/login",o).then((function(e){return console.log(e),e})).catch((function(e){console.warn(e)})));case 3:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"register",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=JSON.stringify(t),e.abrupt("return",D.post(this.END_POINT,r).then((function(e){return console.log(e),e.status})).catch((function(e){console.warn(e)})));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"logout",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",D.post(this.END_POINT+"/logout").then((function(e){return console.log(e),e})).catch((function(e){console.warn(e)})));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"logoutAll",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",D.post(this.END_POINT+"/logout-all").then((function(e){return console.log(e),e})).catch((function(e){console.warn(e)})));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateCustomer",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=JSON.stringify(t),e.abrupt("return",D.put(this.END_POINT,r).then((function(e){return console.log(e),e})).catch((function(e){console.warn(e)})));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updatePassword",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={oldPassword:t,newPassword:r},o=JSON.stringify(n),e.abrupt("return",D.put(this.END_POINT+"/sensitive",o).then((function(e){return console.log(e),e})).catch((function(e){console.warn(e)})));case 3:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}(),P=new C,V=P,I=r("2f62"),N=n["default"].extend({name:"NavBar",components:{NavBarButton:b},data:function(){return{activeItem:"",navBarItems:[{text:"Order overview",link:"/order-overview"},{text:"New order",link:"/new-order"},{text:"My profile",link:"/my-profile"}]}},computed:Object(c["a"])({},Object(I["c"])("account",["isLoggedIn"])),methods:Object(c["a"])({},Object(I["b"])("account",["logout"]),{logout:function(){var e=this;V.logout().then((function(t){void 0!==t&&200==t.status&&(e.$store.dispatch("account/logout"),e.$router.push("/login"))})).catch((function(e){console.log(e)}))}})}),R=N,T=(r("f4f3"),r("40dc")),S=r("adda"),F=r("2fa4"),j=r("2a7f"),E=Object(p["a"])(R,i,s,!1,null,"0fb2b9da",null),A=E.exports;f()(E,{VAppBar:T["a"],VBtn:h["a"],VImg:S["a"],VSpacer:F["a"],VToolbarItems:j["a"]});var L=n["default"].extend({name:"App",components:{NavBar:A},data:function(){return{}}}),B=L,q=r("7496"),$=r("a523"),z=r("a75b"),G=Object(p["a"])(B,o,a,!1,null,null,null),U=G.exports;f()(G,{VApp:q["a"],VContainer:$["a"],VContent:z["a"]});var M=r("8c4f"),W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("NavBar"),r("OrderOverviewTab")],1)},H=[],Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-tabs",{attrs:{"background-color":"transparent",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t){return r("v-tab",{key:t},[e._v(" "+e._s(t)+" ")])})),1),r("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab-item",[r("OrderOverviewHistory")],1),r("v-tab-item",[r("v-card",{attrs:{flat:""}},[r("v-card-text",[e._v("Fixed order to be implemented here")])],1)],1)],1)],1)},Z=[],J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{flat:""}},[0==e.orders.length?r("v-card",{attrs:{flat:""}},[r("v-card-text",[e._v("Order history is empty.")])],1):e._e(),r("v-expansion-panels",e._l(e.orders,(function(e){return r("OrderOverviewHistoryItem",{key:e.orderId,attrs:{orderId:e.orderId,orderDate:e.orderDate,productionDate:e.productionDate,deliveryDate:e.deliveryDate,deliveryOption:e.deliveryOption,info:e.info,status:e.status,coffees:e.coffees}})})),1)],1)},K=[],Q=(r("7db0"),r("d81d"),r("b0c0"),function(){function e(){Object(_["a"])(this,e),this.END_POINT="/order"}return Object(O["a"])(e,[{key:"getOrders",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",D.get(this.END_POINT).then((function(e){return console.log(e),e})).catch((function(e){console.warn(e)})));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"postOrder",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={info:"Info",delivery_date:"2020-08-09",production_date:"2020-08-09",customer_id:1,status_id:1,delivery_id:r,ref_id:1,list:t},o=JSON.stringify(n),e.abrupt("return",D.post(this.END_POINT,o).then((function(e){return console.log("Post order request status: ",e.status),e.status})).catch((function(e){console.warn(e)})));case 3:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}()),X=new Q,ee=X,te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-expansion-panel",[r("v-expansion-panel-header",{staticStyle:{background:"#EEFAF6"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.open;return[r("v-fade-transition",[r("v-row",n?[r("v-col",{attrs:{cols:"3"}},[r("p",{staticClass:"inline"},[e._v("Order date: ")]),e._v(e._s(e.orderDate.getDate()+"/"+e.orderDate.getMonth()+"/"+e.orderDate.getYear())+" ")]),r("v-col",{attrs:{cols:"3"}},[r("p",{staticClass:"inline"},[e._v("Order number: ")]),e._v(e._s(e.orderId)+" ")])]:[r("v-col",{attrs:{cols:"3"}},[r("p",{staticClass:"inline"},[e._v("Order date: ")]),e._v(e._s(e.orderDate.getDate()+"/"+e.orderDate.getMonth()+"/"+e.orderDate.getYear())+" ")]),r("v-col",{attrs:{cols:"3"}},[r("p",{staticClass:"inline"},[e._v("Order number: ")]),e._v(e._s(e.orderId)+" ")]),r("v-col",{attrs:{cols:"3"}},[e._v(" Delivery date: "+e._s(e.deliveryDate.getDate()+"/"+e.deliveryDate.getMonth()+"/"+e.deliveryDate.getYear())+" ")]),r("v-col",{attrs:{cols:"3"}},[e._v(" Status: "+e._s(e.status)+" ")])],1)],1)]}}])}),r("v-expansion-panel-content",{attrs:{color:"59c8a5"}},[r("br"),r("p",{staticClass:"primary-color"},[e._v("Products")]),e._l(e.coffees,(function(e,t){return r("OrderOverviewHistoryItemCoffee",{key:"coffee-"+t,attrs:{name:e.name,groundLevel:e.groundLevel,size:e.size,quantity:e.quantity}})})),r("v-divider"),r("br"),r("v-row",[r("v-col",{attrs:{cols:"4"}},[r("p",{staticClass:"primary-color"},[e._v("Delivery type")]),e._v(" "+e._s(e.deliveryOption)+" ")]),r("v-col",{attrs:{cols:"4"}},[r("p",{staticClass:"primary-color"},[e._v("Delivery date ")]),e._v(e._s(e.deliveryDate.getDate()+"/"+e.deliveryDate.getMonth()+"/"+e.deliveryDate.getYear())+" ")]),r("v-col",{attrs:{cols:"4"}},[r("p",{staticClass:"primary-color"},[e._v("Status ")]),e._v(e._s(e.status)+" ")])],1),r("br"),r("v-divider"),r("br"),r("p",{staticClass:"inline primary-color"},[e._v("Additional info: ")]),e._v(e._s(e.info)+" "),r("br"),r("br"),r("v-divider")],2)],1)},re=[],ne=(r("a9e3"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.quantity)+" x ")]),r("v-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.size)+" ")]),r("v-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.name)+" ")]),r("v-col",{attrs:{cols:"3"}},[e._v(" "+e._s(e.groundLevel)+" ")])],1)],1)}),oe=[],ae={name:"OrderOverviewHistoryItemCoffee",props:{name:{type:String},groundLevel:{type:String},size:{type:String},quantity:{type:Number}}},ie=ae,se=r("62ad"),ce=r("0fd9"),le=Object(p["a"])(ie,ne,oe,!1,null,null,null),ue=le.exports;f()(le,{VCol:se["a"],VContainer:$["a"],VRow:ce["a"]});var de={name:"OrderOverviewHistoryItem",props:{orderDate:{type:Date},orderId:{type:Number},productionDate:{type:Date},deliveryDate:{type:Date},deliveryOption:{type:String},info:{type:String},coffees:{type:Array},status:{type:String}},components:{OrderOverviewHistoryItemCoffee:ue}},ve=de,pe=(r("d5a2"),r("ce7e")),me=r("cd55"),fe=r("49e2"),he=r("c865"),ge=r("0789"),be=Object(p["a"])(ve,te,re,!1,null,"11533b56",null),we=be.exports;f()(be,{VCol:se["a"],VDivider:pe["a"],VExpansionPanel:me["a"],VExpansionPanelContent:fe["a"],VExpansionPanelHeader:he["a"],VFadeTransition:ge["c"],VRow:ce["a"]});var _e={name:"OrderOverviewHistory",data:function(){return{orders:[]}},components:{OrderOverviewHistoryItem:we},methods:{init:function(){var e=this;ee.getOrders().then((function(t){if("undefined"!=typeof t){t.data.map((function(t){0!=e.orders.length&&void 0!=e.orders.find((function(e){return e.orderId==t.order_id}))||e.orders.push({orderId:t.order_id,orderDate:new Date(t.order_date),productionDate:new Date(t.production_date),deliveryDate:new Date(t.delivery_date),deliveryOption:t.delivery_option,info:t.info,status:t.status_name,coffees:[]})}));for(var r=function(r){t.data.map((function(t){t.order_id==e.orders[r].orderId&&e.orders[r].coffees.push({name:t.name,groundLevel:t.level_name,size:t.size,quantity:t.quantity})}))},n=0;n<e.orders.length;n++)r(n);e.orders.sort((function(e,t){var r=new Date(e.orderDate),n=new Date(t.orderDate);return n-r})),console.log("ordreliste: ",e.orders)}})).catch((function(e){console.warn(e)}))}},mounted:function(){this.init()}},Oe=_e,ye=r("b0af"),ke=r("99d9"),xe=r("0393"),De=Object(p["a"])(Oe,J,K,!1,null,null,null),Ce=De.exports;f()(De,{VCard:ye["a"],VCardText:ke["b"],VExpansionPanels:xe["a"]});var Pe={name:"OrderOverviewTab",data:function(){return{tab:null,items:["Order history","Fixed orders"]}},components:{OrderOverviewHistory:Ce}},Ve=Pe,Ie=r("71a3"),Ne=r("c671"),Re=r("fe57"),Te=r("aac8"),Se=Object(p["a"])(Ve,Y,Z,!1,null,"47286bc1",null),Fe=Se.exports;f()(Se,{VCard:ye["a"],VCardText:ke["b"],VTab:Ie["a"],VTabItem:Ne["a"],VTabs:Re["a"],VTabsItems:Te["a"]});r("d3f5");var je={name:"OrderOverview",components:{NavBar:A,OrderOverviewTab:Fe},computed:Object(c["a"])({},Object(I["c"])("account",["isLoggedIn"])),created:function(){this.isLoggedIn||this.$router.push("/login")}},Ee=je,Ae=Object(p["a"])(Ee,W,H,!1,null,null,null),Le=Ae.exports;f()(Ae,{VContainer:$["a"]});var Be=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("NavBar"),r("NewOrderStepper")],1)},qe=[],$e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[r("v-stepper-header",[r("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v(" Choose Coffee ")]),r("v-divider"),r("v-stepper-step",{attrs:{complete:e.e1>2,step:"2"}},[e._v("Order Overview")]),r("v-divider"),r("v-stepper-step",{attrs:{step:"3"}},[e._v("Delivery")])],1),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"1"}},[r("v-card",{staticClass:"mb-12 scroll",attrs:{height:"400px"}},[r("NewOrderProductList")],1)],1),r("v-stepper-content",{attrs:{step:"2"}},[r("v-card",{staticClass:"mb-12 scroll",attrs:{height:"400px"}},[r("NewOrderOrderOverview")],1)],1),r("v-stepper-content",{attrs:{step:"3"}},[r("v-card",{staticClass:"mb-12 scroll",attrs:{height:"400px"}},[r("NewOrderDelivery")],1)],1),r("v-bottom-navigation",{attrs:{grow:"",absolute:"","active-class":"no-active"}},[2==e.e1||3==e.e1?r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.e1<=1?e.e1=1:e.e1-=1}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-arrow-left-bold")]),r("span",[e._v("Previous")])],1):e._e(),r("v-btn",{attrs:{text:"",color:"primary",float:""},on:{click:function(t){e.dialog=!0,e.cancelOrderDialog=!0}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-close-circle")]),e._v(" Cancel ")],1),1==e.e1||2==e.e1?r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){3==e.e1?e.e1=1:e.e1+=1}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-arrow-right-bold")]),e._v(" Next ")],1):e._e(),3==e.e1?r("v-btn",e._g({attrs:{color:"primary",text:""}},n),[r("v-icon",{attrs:{left:""}},[e._v("mdi-arrow-right-bold")]),e._v(" Submit order ")],1):e._e()],1)],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.cancelOrderDialog||e.checkIfOrderEmpty()||e.httpRequestSent?e._e():r("v-card",[r("v-card-title",{attrs:{color:"primary"}},[e._v(" Submit order ")]),r("v-card-text",[e._v(" "+e._s(e.submitDialogText)+" ")]),r("v-divider"),r("v-card-actions",[r("v-btn",{attrs:{outlined:"",color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" No ")]),r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.dialog=!1,e.submitOrder()}}},[e._v(" Yes ")])],1)],1),e.cancelOrderDialog||!e.checkIfOrderEmpty()||e.httpRequestSent?e._e():r("v-card",[r("v-card-title",{attrs:{color:"primary"}},[e._v(" Cannot submit empty order ")]),r("v-card-text",[e._v(" "+e._s(e.emptyOrderDialogText)+" ")]),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(t){e.dialog=!1}}},[e._v(" OK ")])],1)],1),e.httpPostSuccess?r("v-card",[r("v-card-title",{attrs:{color:"primary"}},[e._v(" Order successfully registered! ")]),r("v-card-text",[e._v(" "+e._s(e.orderSuccessDialogText)+" ")]),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{outlined:"",color:"primary",to:"/order-overview"},on:{click:function(t){e.httpPostSuccess=!1,e.dialog=!1}}},[e._v(" OK ")])],1)],1):e._e(),e.httpRequestSent&&!e.httpPostSuccess?r("v-card",[r("v-card-title",{attrs:{color:"primary"}},[e._v(" Could not register order. ")]),r("v-card-text",[e._v(" "+e._s(e.orderFailDialogText)+" ")]),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(t){e.dialog=!1}}},[e._v(" OK ")])],1)],1):e._e(),e.cancelOrderDialog?r("v-card",[r("v-card-title",{attrs:{color:"primary"}},[e._v(" Cancel order? ")]),r("v-card-text",[e._v(" "+e._s(e.cancelOrderDialogText)+" ")]),r("v-divider"),r("v-card-actions",[r("v-btn",{attrs:{outlined:"",color:"primary",text:""},on:{click:function(t){e.dialog=!1,e.cancelOrderDialog=!1}}},[e._v(" No ")]),r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.dialog=!1,e.cancelOrderDialog=!1,e.cancelOrder()}}},[e._v(" Yes ")])],1)],1):e._e()],1)},ze=[],Ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("NewOrderProductFields"),e._l(e.coffees,(function(t){return r("NewOrderProductListItem",{key:t.coffee_id,attrs:{coffeeId:t.coffee_id,coffeeName:t.name},on:{"add-to-order":e.addToOrder}})})),r("v-snackbar",{model:{value:e.addedToOrderSnackBar,callback:function(t){e.addedToOrderSnackBar=t},expression:"addedToOrderSnackBar"}},[e._v(" "+e._s(e.addedToOrderSnackBarText)+" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.addedToOrderSnackBar=!1}}},[e._v(" Close ")])],1)],2)},Ue=[],Me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-skeleton-loader",{attrs:{loading:0==e.groundLevelDropdown.length||0==e.weightDropdown.length,transition:"fade-transition",height:"94",type:"text"}},[r("v-row",[r("v-col",{attrs:{cols:"4"}},[r("span",{staticClass:"rowOnLine"},[e._v(" "+e._s(e.coffeeName)+" ")])]),r("v-col",{attrs:{cols:"2"}},[r("v-select",{staticClass:"rowOnLine",attrs:{items:e.weightDropdown,label:void 0==e.bags[0]?e.weight:e.bags[0].size,"single-line":""},model:{value:e.weight,callback:function(t){e.weight=t},expression:"weight"}})],1),r("v-col",{attrs:{cols:"2"}},[r("v-select",{staticClass:"rowOnLine",attrs:{items:e.groundLevelDropdown,label:void 0==e.allGroundLevels[0]?e.groundLevel:e.allGroundLevels[0].level_name,"single-line":""},model:{value:e.groundLevel,callback:function(t){e.groundLevel=t},expression:"groundLevel"}})],1),r("v-col",{staticClass:"rowOnLine",attrs:{cols:"2"}},[r("v-row",[r("v-col",{attrs:{cols:"3"}},[r("v-icon",{on:{click:e.decrementAmount}},[e._v("mdi-minus")])],1),r("v-col",{staticClass:"withOutSidePadding",attrs:{cols:"6"}},[r("v-form",{ref:"amountField"},[r("v-text-field",{staticClass:"rowOnLine",attrs:{type:"number",center:"",min:"0",rules:e.amountFieldRules},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}})],1)],1),r("v-col",{attrs:{cols:"3"}},[r("v-icon",{on:{click:e.incrementAmount}},[e._v("mdi-plus")])],1)],1)],1),r("v-col",{attrs:{cols:"2"}},[r("v-btn",{staticClass:"rowOnLine",attrs:{outlined:"",color:"primary"},on:{click:function(t){e.checkIfValid()?(e.$emit("add-to-order",e.coffeeId,e.coffeeName,e.weight,e.getGramsOfWeight(e.weight),e.findBagIdByWeight(e.weight),e.groundLevel,e.findGroundLevelIdbyGroundLevel(e.groundLevel),e.amount),e.resetFields()):e.valid=!1}}},[e._v(" Add to order ")])],1)],1)],1)},We=[],He=(r("c975"),{name:"NewOrderProductListItem",props:{coffeeName:{type:String,required:!0},coffeeId:{type:Number,required:!0}},data:function(){return{valid:!0,weight:"",grams:0,groundLevel:"",amount:0,weightDropdown:[],groundLevelDropdown:[],amountFieldRules:[function(e){return e>0||"Amount must be over 0!"}]}},computed:Object(c["a"])({},Object(I["d"])("products",["bags"]),{},Object(I["d"])("products",["allGroundLevels"])),watch:{bags:function(e,t){var r=this;this.weight=e[0].size,e.map((function(e){r.weightDropdown.push(e.size)}))},allGroundLevels:function(e,t){var r=this;this.groundLevel=e[0].level_name,e.map((function(e){r.groundLevelDropdown.push(e.level_name)}))}},methods:{incrementAmount:function(){this.amount++},decrementAmount:function(){0==this.amount?this.amount=0:this.amount--},resetFields:function(){this.weight=this.weightDropdown[0],this.groundLevel=this.groundLevelDropdown[0],this.amount=0,this.$refs.amountField.resetValidation()},checkIfValid:function(){return!!this.$refs.amountField.validate()},getGramsOfWeight:function(e){var t=this.bags.map((function(e){return e.size})).indexOf(e);return this.bags[t].grams},findBagIdByWeight:function(e){var t=this.bags.map((function(e){return e.size})).indexOf(e);return this.bags[t].bag_id},findGroundLevelIdbyGroundLevel:function(e){var t=this.allGroundLevels.map((function(e){return e.level_name})).indexOf(e);return this.allGroundLevels[t].ground_level_id}}}),Ye=He,Ze=(r("75c2"),r("4bd4")),Je=r("132d"),Ke=r("b974"),Qe=r("3129"),Xe=r("8654"),et=Object(p["a"])(Ye,Me,We,!1,null,"71aee80e",null),tt=et.exports;f()(et,{VBtn:h["a"],VCol:se["a"],VForm:Ze["a"],VIcon:Je["a"],VRow:ce["a"],VSelect:Ke["a"],VSkeletonLoader:Qe["a"],VTextField:Xe["a"]});var rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{staticClass:"heading-color"},[r("v-col",{attrs:{cols:"4"}},[r("h3",[e._v(e._s(e.fields[0]))])]),r("v-col",{attrs:{cols:"2"}},[r("h3",[e._v(e._s(e.fields[1]))])]),r("v-col",{attrs:{cols:"2"}},[r("h3",[e._v(e._s(e.fields[2]))])]),r("v-col",{attrs:{cols:"2"}},[r("h3",[e._v(e._s(e.fields[3]))])]),r("v-col",{attrs:{cols:"2"}},[r("h3",[e._v(e._s(e.fields[4]))])])],1)},nt=[],ot=n["default"].extend({name:"NewOrderProductFields",data:function(){return{fields:["Coffee name","Weight","Ground level","Amount",""]}}}),at=ot,it=(r("1d77"),Object(p["a"])(at,rt,nt,!1,null,"3b41b2a1",null)),st=it.exports;f()(it,{VCol:se["a"],VRow:ce["a"]});var ct=function(){function e(){Object(_["a"])(this,e),this.END_POINT="/bag"}return Object(O["a"])(e,[{key:"getAllBags",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",D.get(this.END_POINT).then((function(e){return console.log(e),e.data})).catch((function(e){console.warn(e)})));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCustomerBags",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",D.get(this.END_POINT+"/me").then((function(e){return console.log(e),e.data})).catch((function(e){console.warn(e)})));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),lt=new ct,ut=lt,dt={name:"NewOrderProductList",computed:Object(c["a"])({},Object(I["d"])("products",["coffees"]),{},Object(I["d"])("order",["itemId"])),data:function(){return{itemIdCopy:0,addedToOrderSnackBar:!1,addedToOrderSnackBarText:""}},methods:{init:function(){var e=this;this.$store.dispatch("products/getCustomerCoffees"),this.itemIdCopy=this.itemId,setTimeout((function(){e.$store.dispatch("products/getCustomerBags"),e.$store.dispatch("products/getAllGroundLevels")}),500)},addToOrder:function(e,t,r,n,o,a,i,s){var c="Failed to add to order.";c=this.$store.dispatch("order/addProductToOrder",{item_id:this.itemIdCopy,coffee_id:e,coffee_name:t,weight:r,grams:n,bag_id:o,ground_level:a,ground_level_id:i,amount:s})?"Added to order! Name: "+t+" , weight "+r+" , ground level: "+a+", amount: "+s:"Failed to add to order",this.addedToOrderSnackBarText=c,this.addedToOrderSnackBar=!0,this.$store.dispatch("order/incrementItemId"),this.itemIdCopy=this.itemId}},mounted:function(){this.init()},components:{NewOrderProductFields:st,NewOrderProductListItem:tt}},vt=dt,pt=(r("117c"),r("2db4")),mt=Object(p["a"])(vt,Ge,Ue,!1,null,"270afad0",null),ft=mt.exports;f()(mt,{VBtn:h["a"],VContainer:$["a"],VSnackbar:pt["a"]});var ht=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("h3",{staticClass:"heading"},[e._v("Order overview")]),0==e.items.length?r("h4",[e._v("Your order is empty! Choose some delicious coffees to fill you order!")]):e._l(e.items,(function(t){return r("NewOrderOrderOverviewItem",{key:t.item_id,attrs:{itemId:t.item_id,coffeeId:t.coffee_id,coffeeName:t.coffee_name,weight:t.weight,groundLevel:t.ground_level,amount:t.amount},on:{"removed-from-order":e.showRemovedFromOrderSnackBar}})})),r("v-snackbar",{model:{value:e.removedFromOrderSnackBar,callback:function(t){e.removedFromOrderSnackBar=t},expression:"removedFromOrderSnackBar"}},[e._v(" "+e._s(e.removedFromOrderSnackBarText)+" "),r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.removedFromOrderSnackBar=!1}}},[e._v(" Close ")])],1)],2)},gt=[],bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{staticClass:"rowOnLine",attrs:{cols:"2"}},[r("v-row",[r("v-col",{attrs:{cols:"3"}},[r("v-icon",{on:{click:e.decrementAmount}},[e._v("mdi-minus")])],1),r("v-col",{staticClass:"withOutSidePadding",attrs:{cols:"6"}},[r("v-form",{ref:"amountField"},[r("v-text-field",{staticClass:"rowOnLine",attrs:{type:"number",center:"",min:"0",rules:e.amountFieldRules},model:{value:e.newAmount,callback:function(t){e.newAmount=t},expression:"newAmount"}},[e._v(" "+e._s(e.newAmount)+" ")])],1)],1),r("v-col",{attrs:{cols:"3"}},[r("v-icon",{on:{click:e.incrementAmount}},[e._v("mdi-plus")])],1)],1)],1),r("v-col",{attrs:{cols:"2"}},[r("span",{staticClass:"rowOnLine"},[e._v(" "+e._s(e.weight)+" ")])]),r("v-col",{attrs:{cols:"2"}},[r("span",{staticClass:"rowOnLine"},[e._v(" "+e._s(e.coffeeName)+" ")])]),r("v-col",{attrs:{cols:"2"}},[r("span",{staticClass:"rowOnLine"},[e._v(" "+e._s(e.groundLevel)+" ")])]),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{staticClass:"rowOnLine",attrs:{absolute:"",right:"",outlined:"",color:"primary"},on:{click:function(t){e.removeFromOrder(e.itemId),e.$emit("removed-from-order")}}},[e._v(" Remove ")])],1)],1),r("v-divider")],1)},wt=[],_t={name:"NewOrderOrderOverviewItem",props:{itemId:{type:Number,required:!0},coffeeId:{type:Number,required:!0},coffeeName:{type:String,required:!0},weight:{type:String,required:!0},groundLevel:{type:String,required:!0},amount:{type:Number,required:!0}},data:function(){return{newAmount:this.amount,amountFieldRules:[function(e){return e>0||"Amount must be over 0!"}]}},methods:{incrementAmount:function(){this.newAmount++,this.$store.dispatch("order/changeItemAmount",{item_id:this.itemId,newAmount:this.newAmount})},decrementAmount:function(){0==this.newAmount?this.newAmount=0:this.newAmount--,this.$store.dispatch("order/changeItemAmount",{item_id:this.itemId,newAmount:this.newAmount})},removeFromOrder:function(e){this.$store.dispatch("order/removeProductFromOrder",e)},checkIfValid:function(){return!!this.$refs.amountField.validate()}}},Ot=_t,yt=(r("c68f"),Object(p["a"])(Ot,bt,wt,!1,null,"73e78684",null)),kt=yt.exports;f()(yt,{VBtn:h["a"],VCol:se["a"],VContainer:$["a"],VDivider:pe["a"],VForm:Ze["a"],VIcon:Je["a"],VRow:ce["a"],VTextField:Xe["a"]});var xt={name:"NewOrderOrderOverview",components:{NewOrderOrderOverviewItem:kt},computed:Object(c["a"])({},Object(I["d"])("order",["items"])),data:function(){return{removedFromOrderSnackBar:!1,removedFromOrderSnackBarText:""}},methods:{showRemovedFromOrderSnackBar:function(){var e="Item removed from order.";this.removedFromOrderSnackBarText=e,this.removedFromOrderSnackBar=!0}}},Dt=xt,Ct=(r("be28"),Object(p["a"])(Dt,ht,gt,!1,null,"31614d66",null)),Pt=Ct.exports;f()(Ct,{VBtn:h["a"],VContainer:$["a"],VSnackbar:pt["a"]});var Vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("h3",{staticClass:"heading"},[e._v("Choose Delivery")]),r("v-radio-group",{attrs:{required:""},model:{value:e.chosenDeliveryOption,callback:function(t){e.chosenDeliveryOption=t},expression:"chosenDeliveryOption"}},e._l(e.allDeliveryOptions,(function(e){return r("v-radio",{key:e.delivery_id,attrs:{label:e.delivery_option,value:e.delivery_id}})})),1),1==e.chosenDeliveryOption?r("div",[e._v("Delivery price: "+e._s(e.findDeliveryPrice())+" kr")]):2==e.chosenDeliveryOption?r("div",[e._v("Delivery price: "+e._s(e.pickUpPrice)+" kr")]):3==e.chosenDeliveryOption?r("div",[e._v("Delivery price: "+e._s(e.homeDeliveryPrice)+" kr")]):r("div",[e._v("Contact Jacobsen og Svart for delivery price.")])],1)},It=[],Nt={name:"NewOrderDelivery",data:function(){return{deliveryOptions:[],postDeliveryPrice:0,homeDeliveryPrice:100,pickUpPrice:0,postUpTo2kgPrice:49,postUpTo10kgPrice:149,postUpTo25kgPrice:269,postUpTo35kgPrice:389,failedToLoad:"Waiting for server...",chosenDeliveryOption:1}},computed:Object(c["a"])({},Object(I["d"])("delivery",["allDeliveryOptions"]),{},Object(I["c"])("order",["totalWeightGrams"])),methods:{init:function(){this.$store.dispatch("delivery/getAllDeliveryOptions")},setDeliveyOptions:function(){var e=this;this.allDeliveryOptions.map((function(t){e.deliveyOptions.push(t.delivery_option)}))},findDeliveryPrice:function(){return this.totalWeightGrams.totalWeightGrams<=2e3?this.postDeliveryPrice=this.postUpTo2kgPrice:this.totalWeightGrams.totalWeightGrams<=1e4?this.postDeliveryPrice=this.postUpTo10kgPrice:this.totalWeightGrams.totalWeightGrams<=25e3?this.postDeliveryPrice=this.postUpTo25kgPrice:this.totalWeightGrams.totalWeightGrams<=35e3?this.postDeliveryPrice=this.postUpTo35kgPrice:this.postDeliveryPrice="The package is too heavy for post.",this.postDeliveryPrice}},watch:{chosenDeliveryOption:function(e,t){this.$store.dispatch("order/chooseDelivery",e)}},beforeMount:function(){this.init()}},Rt=Nt,Tt=(r("143a"),r("67b6")),St=r("43a6"),Ft=Object(p["a"])(Rt,Vt,It,!1,null,"7588d0f4",null),jt=Ft.exports;f()(Ft,{VContainer:$["a"],VRadio:Tt["a"],VRadioGroup:St["a"]});var Et={data:function(){return{e1:1,dialog:!1,httpPostSuccess:!1,httpRequestSent:!1,cancelOrderDialog:!1,submitDialogText:"Are you sure you want to submit the order?",emptyOrderDialogText:"You cannot submit an empty order. Add coffees to your order before you submit.",orderSuccessDialogText:"Your order was successfully registered!",orderFailDialogText:"Something went wrong. Cound not register order",cancelOrderDialogText:"Are you sure you want to cancel the order?"}},methods:{submitOrder:function(){var e=this;this.httpRequestSent=!0,this.$store.dispatch("order/postOrder").then((function(t){200==t&&(e.httpPostSuccess=!0),e.dialog=!0}))},checkIfOrderEmpty:function(){return 0==this.items.length},cancelOrder:function(){this.$store.dispatch("order/cancelOrder"),this.$router.push("/order-overview")}},computed:Object(c["a"])({},Object(I["d"])("order",["items"])),components:{NewOrderProductList:ft,NewOrderOrderOverview:Pt,NewOrderDelivery:jt}},At=Et,Lt=(r("7590"),r("b81c")),Bt=r("169a"),qt=r("7e85"),$t=r("e516"),zt=r("9c54"),Gt=r("56a4"),Ut=Object(p["a"])(At,$e,ze,!1,null,"4c364c80",null),Mt=Ut.exports;f()(Ut,{VBottomNavigation:Lt["a"],VBtn:h["a"],VCard:ye["a"],VCardActions:ke["a"],VCardText:ke["b"],VCardTitle:ke["c"],VDialog:Bt["a"],VDivider:pe["a"],VIcon:Je["a"],VSpacer:F["a"],VStepper:qt["a"],VStepperContent:$t["a"],VStepperHeader:zt["a"],VStepperItems:zt["b"],VStepperStep:Gt["a"]});var Wt=n["default"].extend({name:"NewOrder",components:{NewOrderStepper:Mt,NavBar:A},computed:Object(c["a"])({},Object(I["c"])("account",["isLoggedIn"])),created:function(){this.isLoggedIn||this.$router.push("/login")}}),Ht=Wt,Yt=Object(p["a"])(Ht,Be,qe,!1,null,null,null),Zt=Yt.exports;f()(Yt,{VContainer:$["a"]});var Jt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{persistent:"",width:"800"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-container",[r("NavBar"),r("v-card",[r("v-card-title",{attrs:{color:"primary"}},[r("h2",{staticClass:"mx-auto"},[e._v("My profile")])]),r("v-card-text",[r("v-form",{staticClass:"myProfileForm"},[r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Organisation name","prepend-icon":"mdi-briefcase-account",rules:e.nameRules,disabled:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Organisation number","prepend-icon":"mdi-numeric",rules:e.orgNumberRules,disabled:""},model:{value:e.user.org_number,callback:function(t){e.$set(e.user,"org_number",t)},expression:"user.org_number"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Phone number","prepend-icon":"mdi-phone",rules:e.phoneRules,disabled:""},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Email address","prepend-icon":"mdi-at",rules:e.emailRules,disabled:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Address","prepend-icon":"mdi-home-city",rules:e.addressRules,disabled:""},model:{value:e.user.address,callback:function(t){e.$set(e.user,"address",t)},expression:"user.address"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Zip code","prepend-icon":"mdi-map-marker",rules:e.zipCodeRules,disabled:""},model:{value:e.user.zip_code,callback:function(t){e.$set(e.user,"zip_code",t)},expression:"user.zip_code"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Province","prepend-icon":"mdi-city",rules:e.provinceRules,disabled:""},model:{value:e.province,callback:function(t){e.province=t},expression:"province"}},[e._v(" "+e._s(e.province)+" ")])],1)],1),r("v-row",[r("v-checkbox",{attrs:{"false-value":"0","true-value":"1",label:"We would like to receice weekly emails with news and updates",disabled:""},model:{value:e.subscription,callback:function(t){e.subscription=t},expression:"subscription"}})],1),r("v-row",[r("v-col",{attrs:{cols:"4"}},[r("v-btn",e._g({staticClass:"registerBtn",attrs:{color:"primary"},on:{click:function(t){e.formDialog=!0}}},n),[e._v(" Edit information ")])],1),r("v-col",{attrs:{cols:"4"}},[r("v-btn",e._g({staticClass:"registerBtn",attrs:{color:"primary"},on:{click:function(t){e.changePasswordDialog=!0}}},n),[e._v(" Change password ")])],1),r("v-col",{attrs:{cols:"4"}},[r("v-btn",e._g({staticClass:"registerBtn",attrs:{color:"primary"},on:{click:function(t){e.logoutAllDialog=!0}}},n),[e._v(" Log out of all devices ")])],1)],1)],1)],1)],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.formDialog?r("v-card",[r("v-form",{ref:"form",staticClass:"myProfileForm"},[r("h2",[e._v("Edit information")]),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Organisation name","prepend-icon":"mdi-briefcase-account",rules:e.nameRules,required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Organisation number","prepend-icon":"mdi-numeric",rules:e.orgNumberRules,required:""},model:{value:e.orgNumber,callback:function(t){e.orgNumber=t},expression:"orgNumber"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Phone number","prepend-icon":"mdi-phone",rules:e.phoneRules,required:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Email address","prepend-icon":"mdi-at",rules:e.emailRules,required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Address","prepend-icon":"mdi-home-city",rules:e.addressRules,required:""},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Zip code","prepend-icon":"mdi-map-marker",rules:e.zipCodeRules,required:""},model:{value:e.zipCode,callback:function(t){e.zipCode=t},expression:"zipCode"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Province","prepend-icon":"mdi-city",rules:e.provinceRules,readonly:""},model:{value:e.province,callback:function(t){e.province=t},expression:"province"}},[e._v(" "+e._s(e.province)+" ")])],1)],1),r("v-row",[r("v-checkbox",{attrs:{"false-value":"0","true-value":"1",label:"We would like to receice weekly emails with news and updates"},model:{value:e.subscription,callback:function(t){e.subscription=t},expression:"subscription"}})],1),r("v-btn",{staticClass:"mr-4",attrs:{color:"primary",outlined:""},on:{click:function(t){e.formDialog=!1,e.dialog=!1}}},[e._v(" Close ")]),r("v-btn",{staticClass:"mr-4",attrs:{color:"primary"},on:{click:function(t){e.updateCustomerIfValid(),e.formDialog=!1,e.dialog=!1}}},[e._v(" Save ")])],1)],1):e._e(),e.changePasswordDialog?r("v-card",[r("v-card-title",[r("h2",{staticClass:"mx-auto"},[e._v("Change password")])]),r("v-card-text",[r("v-form",{ref:"passwordForm"},[r("v-text-field",{attrs:{type:"password",label:"Old password","prepend-icon":"mdi-lock",rules:e.passwordRules,required:""},model:{value:e.oldPassword,callback:function(t){e.oldPassword=t},expression:"oldPassword"}}),r("v-text-field",{attrs:{type:"password",label:"New password","prepend-icon":"mdi-lock",rules:e.passwordRules,required:""},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),r("v-text-field",{attrs:{type:"password",label:"Repeat new password","prepend-icon":"mdi-lock",rules:e.passwordRules,required:""},model:{value:e.newPasswordRep,callback:function(t){e.newPasswordRep=t},expression:"newPasswordRep"}}),r("v-btn",{staticClass:"mr-4",attrs:{color:"primary",outlined:""},on:{click:function(t){e.changePasswordDialog=!1,e.dialog=!1}}},[e._v(" Close ")]),r("v-btn",{staticClass:"mr-4",attrs:{color:"primary"},on:{click:function(t){e.updatePasswordIfValid(),e.changePasswordDialog=!1}}},[e._v(" Save ")])],1)],1)],1):e._e(),e.logoutAllDialog?r("v-card",[r("v-card-title",[e._v("Log out of all devices")]),r("v-card-text",[e._v("Are you sure you want to log out of all devices?")]),r("v-card-actions",[r("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(t){e.logoutAllDialog=!1,e.dialog=!1}}},[e._v(" No ")]),r("v-spacer"),r("v-btn",{attrs:{color:"primary"},on:{click:e.logoutAll}},[e._v(" Yes ")])],1)],1):e._e(),e.changePasswordFeedbackDialog?r("v-card",[r("v-card-title",[e._v(" "+e._s(e.passwordChangeFeedbackTitle)+" ")]),r("v-card-text",[e._v(e._s(e.passwordChangeFeedbackMsg))]),r("v-card-actions",[r("v-btn",{attrs:{right:"",color:"primary"},on:{click:function(t){e.changePasswordFeedbackDialog=!1,e.dialog=!1}}},[e._v(" Ok ")])],1)],1):e._e()],1)},Kt=[],Qt=(r("d3b7"),r("25f0"),function(){function e(){Object(_["a"])(this,e),this.END_POINT="/place"}return Object(O["a"])(e,[{key:"getProvinceByZip",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",D.get(this.END_POINT+"/"+t).then((function(e){return console.log(e),e.data})).catch((function(e){console.warn(e)})));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()),Xt=new Qt,er=Xt,tr={name:"MyProfile",components:{NavBar:A},data:function(){return{editMode:!1,name:"",address:"",phone:"",orgNumber:"",email:"",oldPassword:"",newPassword:"",newPasswordRep:"",zipCode:"",province:"",subscription:"",nameRules:[function(e){return!!e||"Organisation name is required"}],addressRules:[function(e){return!!e||"Address is required"}],phoneRules:[function(e){return!!e||"Phone number is required"}],orgNumberRules:[function(e){return!!e||"Organisation number is required"},function(e){return 9==e.length||"Organisation number must be 9 digits"}],emailRules:[function(e){return!!e||"Email address is required"}],provinceRules:[function(e){return!!e||"Province is required"}],zipCodeRules:[function(e){return!!e||"Zip code is required"}],passwordRules:[function(e){return!!e||"This field is required"}],passwordChangeFeedbackMsg:"",passwordChangeFeedbackTitle:"",dialog:!1,formDialog:!1,logoutAllDialog:!1,changePasswordDialog:!1,changePasswordFeedbackDialog:!1}},methods:{init:function(){var e=this;this.name=this.user.name,this.orgNumber=this.user.org_number,this.address=this.user.address,this.phone=this.user.phone,this.email=this.user.email,this.active=this.user.active,this.zipCode=this.user.zip_code,this.subscription=this.user.subscription.toString(),er.getProvinceByZip(this.zipCode).then((function(t){console.log(t),e.province=void 0!=t?t[0].province:""})).catch((function(e){console.log(e)}))},resetPasswordField:function(){this.oldPassword="",this.newPassword="",this.newPasswordRep=""},updateCustomerIfValid:function(){var e=this;this.$refs.form.validate()?V.updateCustomer({name:this.name,address:this.address,phone:this.phone,org_number:this.orgNumber,email:this.email,zip_code:this.zipCode,subscription:this.subscription}).then((function(t){if(void 0!=t&&200==t.status){var r={name:e.name,address:e.address,phone:e.phone,org_number:e.orgNumber,email:e.email,zip_code:e.zipCode,subscription:e.subscription};e.$store.dispatch("account/updateUser",r)}})).catch((function(e){console.log(e)})):console.log("not valid form")},updatePasswordIfValid:function(){var e=this;this.$refs.passwordForm.validate()?(this.newPassword!==this.newPasswordRep?(this.passwordChangeFeedbackTitle="Error",this.passwordChangeFeedbackMsg="New password repetiotion does not match. Try again.",this.changePasswordFeedbackDialog=!0):V.updatePassword(this.oldPassword,this.newPassword).then((function(t){void 0!=t&&200==t.status?(e.passwordChangeFeedbackTitle="Success",e.passwordChangeFeedbackMsg="Password successfully changed.",e.changePasswordFeedbackDialog=!0):(e.passwordChangeFeedbackTitle="Error",e.passwordChangeFeedbackMsg="Unable to change old password. Try again.",e.changePasswordFeedbackDialog=!0)})).catch((function(e){console.log(e)})),this.resetPasswordField()):(this.passwordChangeFeedbackTitle="Error",this.passwordChangeFeedbackMsg="Request not valid. Fill in required fields and try again.",this.changePasswordFeedbackDialog=!0,this.resetPasswordField())},logoutAll:function(){var e=this;V.logoutAll().then((function(t){console.log(t),200==t.status&&e.$router.push("/login")})).catch((function(e){console.log(e)}))}},watch:{zipCode:function(e,t){var r=this;0==e.length?this.province="":e.length>=4&&er.getProvinceByZip(e).then((function(e){console.log(e),r.province=void 0!=e?e[0].province:""})).catch((function(e){console.log(e)}))}},computed:Object(c["a"])({},Object(I["c"])("account",["isLoggedIn"]),{},Object(I["d"])("account",["user"]),{},Object(I["b"])("account",["updateUser"])),created:function(){this.isLoggedIn||this.$router.push("/login")},mounted:function(){this.init()}},rr=tr,nr=(r("1e89"),r("ac7c")),or=Object(p["a"])(rr,Jt,Kt,!1,null,"28d6531c",null),ar=or.exports;f()(or,{VBtn:h["a"],VCard:ye["a"],VCardActions:ke["a"],VCardText:ke["b"],VCardTitle:ke["c"],VCheckbox:nr["a"],VCol:se["a"],VContainer:$["a"],VDialog:Bt["a"],VForm:Ze["a"],VRow:ce["a"],VSpacer:F["a"],VTextField:Xe["a"]});var ir=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-container",[r("v-card",{staticClass:"mx-auto mt-10",attrs:{width:"400"}},[r("v-card-title",[r("h2",{staticClass:"mx-auto font-weight-thin"},[e._v(" Business Login ")])]),r("v-card-text",[r("v-form",{ref:"form"},[r("v-text-field",{attrs:{label:"Username","prepend-icon":"mdi-account-circle",rules:e.emailRules,required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-text-field",{attrs:{type:e.showPassword?"text":"password",label:"Password","prepend-icon":"mdi-lock","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",rules:e.passwordRules,required:""},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),r("br"),r("v-card-actions",[r("v-btn",e._g({staticClass:"login-btn mx-auto",attrs:{tile:"",large:"",color:"primary"},on:{click:e.loginIfValid}},n),[e._v(" Login ")])],1),r("br"),r("v-card-actions",[r("v-btn",{attrs:{text:"",color:"primary"}},[e._v("Forgot password?")]),r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$router.push("/register-new-user")}}},[e._v("New customer?")])],1)],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.failedLoginDialog?r("v-card",[r("v-card-title",{attrs:{color:"primary"}},[e._v(" Could not log in ")]),r("v-card-text",[e._v(" Username or password is wrong. Try again. ")]),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(t){e.dialog=!1,e.failedLoginDialog=!1}}},[e._v(" OK ")])],1)],1):e._e(),e.notValidFormDialog?r("v-card",[r("v-card-title",{attrs:{color:"primary"}},[e._v(" Login not valid ")]),r("v-card-text",[e._v(" Check if you have filled out the required fields correctly and try again. ")]),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(t){e.dialog=!1,e.notValidFormDialog=!1}}},[e._v(" OK ")])],1)],1):e._e()],1)},sr=[],cr=n["default"].extend({name:"Login",data:function(){return{username:"",password:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],passwordRules:[function(e){return!!e||"Password is required"}],showPassword:!1,dialog:!1,failedLoginDialog:!1,notValidFormDialog:!1}},methods:Object(c["a"])({},Object(I["b"])("account",["login"]),{loginIfValid:function(){var e=this;this.$refs.form.validate()?V.login(this.username,this.password).then((function(t){if(void 0!==t&&200==t.status){var r=t.data.token,n=t.data.customer;e.login({token:r,user:n}),e.failedLoginDialog=!1,e.$router.push("/order-overview")}else e.failedLoginDialog=!0})).catch((function(t){e.failedLoginDialog=!0})):this.notValidFormDialog=!0}})}),lr=cr,ur=(r("dfcc"),Object(p["a"])(lr,ir,sr,!1,null,"02e2c778",null)),dr=ur.exports;f()(ur,{VBtn:h["a"],VCard:ye["a"],VCardActions:ke["a"],VCardText:ke["b"],VCardTitle:ke["c"],VContainer:$["a"],VDialog:Bt["a"],VDivider:pe["a"],VForm:Ze["a"],VSpacer:F["a"],VTextField:Xe["a"]});var vr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-container",[r("v-card",[r("v-form",{ref:"form",staticClass:"registerForm"},[r("h2",[e._v("Register new user")]),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Organisation name","prepend-icon":"mdi-briefcase-account",rules:e.nameRules,required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{type:"number",label:"Organisation number","prepend-icon":"mdi-numeric",rules:e.orgNumberRules,required:""},model:{value:e.orgNumber,callback:function(t){e.orgNumber=t},expression:"orgNumber"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Phone number",type:"number","prepend-icon":"mdi-phone",rules:e.phoneRules,required:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Email address","prepend-icon":"mdi-at",rules:e.emailRules,required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Address","prepend-icon":"mdi-home-city",rules:e.addressRules,required:""},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Zip code","prepend-icon":"mdi-map-marker",rules:e.zipCodeRules,type:"number",required:""},model:{value:e.zipCode,callback:function(t){e.zipCode=t},expression:"zipCode"}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Province","prepend-icon":"mdi-city",rules:e.provinceRules,readonly:""},model:{value:e.province,callback:function(t){e.province=t},expression:"province"}})],1)],1),r("v-row",[r("v-checkbox",{attrs:{"false-value":"0","true-value":"1",label:"We would like to receice weekly emails with news and updates"},model:{value:e.subscription,callback:function(t){e.subscription=t},expression:"subscription"}})],1),r("v-btn",e._g({staticClass:"registerBtn",attrs:{color:"primary"},on:{click:e.registerIfValid}},n),[e._v(" Register ")])],1)],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.failedPostDialog?r("v-card",[r("v-card-title",{attrs:{color:"primary"}},[e._v(" Could not register ")]),r("v-card-text",[e._v(" Something went wrong. Please contakt Jacobsen and Svart to register. ")]),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(t){e.dialog=!1,e.failedPostDialog=!1}}},[e._v(" OK ")])],1)],1):e._e(),e.successFulPostDialog?r("v-card",[r("v-card-title",{attrs:{color:"primary"}},[e._v(" Successful register ")]),r("v-card-text",[e._v(" You will very soon receive an email with your username and password. ")]),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(t){e.dialog=!1,e.successFulPostDialog=!1,e.$router.push("/login")}}},[e._v(" Go to login page ")])],1)],1):e._e(),e.notValidFormDialog?r("v-card",[r("v-card-title",{attrs:{color:"primary"}},[e._v(" Registration not valid ")]),r("v-card-text",[e._v(" Check if you have filled out all the required fields and try again. ")]),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(t){e.dialog=!1,e.notValidFormDialog=!1}}},[e._v(" OK ")])],1)],1):e._e()],1)},pr=[],mr={name:"Register",data:function(){return{name:"",address:"",phone:"",orgNumber:"",email:"",zipCode:"",province:"",subscription:"1",nameRules:[function(e){return!!e||"Organisation name is required"}],addressRules:[function(e){return!!e||"Address is required"}],phoneRules:[function(e){return!!e||"Phone number is required"}],orgNumberRules:[function(e){return!!e||"Organisation number is required"},function(e){return 9==e.length||"Organisation number must be 9 digits"}],emailRules:[function(e){return!!e||"Email address is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],provinceRules:[function(e){return!!e||"Province is required"}],zipCodeRules:[function(e){return!!e||"Zip code is required"}],failedPostDialog:!1,successFulPostDialog:!1,notValidFormDialog:!1,dialog:!1}},methods:Object(c["a"])({},Object(I["b"])("account",["getProvinceByZip","register"]),{registerIfValid:function(){var e=this;this.$refs.form.validate()?V.register({name:this.name,address:this.address,phone:this.phone,org_number:this.orgNumber,email:this.email,zip_code:this.zipCode,subscription:this.subscription}).then((function(t){201==t||200==t?(e.failedPostDialog=!1,e.successFulPostDialog=!0):(e.failedPostDialog=!0,e.successFulPostDialog=!1)})).catch((function(e){console.log(e)})):this.notValidFormDialog=!0}}),watch:{zipCode:function(e,t){var r=this;0==e.length?this.province="":e.length>=4&&er.getProvinceByZip(e).then((function(e){console.log(e),r.province=void 0!=e?e[0].province:""})).catch((function(e){console.log(e)}))}}},fr=mr,hr=(r("b17d"),Object(p["a"])(fr,vr,pr,!1,null,"6e4f3580",null)),gr=hr.exports;f()(hr,{VBtn:h["a"],VCard:ye["a"],VCardActions:ke["a"],VCardText:ke["b"],VCardTitle:ke["c"],VCheckbox:nr["a"],VCol:se["a"],VContainer:$["a"],VDialog:Bt["a"],VDivider:pe["a"],VForm:Ze["a"],VRow:ce["a"],VSpacer:F["a"],VTextField:Xe["a"]});var br=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"general"},[r("h1",[e._v("404")]),r("h3",[e._v("Ooops! Page not found.")]),r("p",[e._v("Go to "),r("router-link",{attrs:{to:"/login"}},[e._v("login")])],1)])},wr=[],_r={name:"NotFound"},Or=_r,yr=(r("6ca7c"),Object(p["a"])(Or,br,wr,!1,null,"1e8d7f47",null)),kr=yr.exports;f()(yr,{VContainer:$["a"]}),n["default"].use(M["a"]);var xr=[{path:"/order-overview",name:"OrderOverview",component:Le},{path:"/new-order",name:"NewOrder",component:Zt},{path:"/my-profile",name:"MyProfile",component:ar},{path:"/login",name:"Login",component:dr},{path:"/register-new-user",name:"registerNewUser",component:gr},{path:"*",name:"notFound",component:kr}],Dr=new M["a"]({mode:"history",base:"/",routes:xr}),Cr=Dr,Pr=function(){function e(){Object(_["a"])(this,e),this.END_POINT="/coffee"}return Object(O["a"])(e,[{key:"getAllCoffees",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",D.get(this.END_POINT).then((function(e){return console.log(e),e.data})).catch((function(e){console.warn(e)})));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCustomerCoffees",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",D.get(this.END_POINT+"/me").then((function(e){return console.log(e),e.data})).catch((function(e){console.warn(e)})));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Vr=new Pr,Ir=Vr,Nr=function(){function e(){Object(_["a"])(this,e),this.END_POINT="/ground_level"}return Object(O["a"])(e,[{key:"getAllGroundLevels",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",D.get(this.END_POINT).then((function(e){return console.log(e),e.data})).catch((function(e){console.warn(e)})));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Rr=new Nr,Tr=Rr,Sr=function(){function e(){Object(_["a"])(this,e)}return Object(O["a"])(e,[{key:"getAllDeliveryOptions",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",D.get("/delivery").then((function(e){return console.log(e),e.data})).catch((function(e){console.warn(e)})));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAllMailPrices",value:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",D.get("/mail_price").then((function(e){return console.log(e),e.data})).catch((function(e){console.warn(e)})));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Fr=new Sr,jr=Fr,Er={coffees:[],bags:[],allGroundLevels:[],allMailPrices:[]},Ar={namespaced:!0,state:Er,mutations:{setCoffees:function(e,t){e.coffees=t},setBags:function(e,t){e.bags=t},setGroundLevels:function(e,t){e.allGroundLevels=t},setMailPrices:function(e,t){e.allMailPrices=t}},actions:{getCustomerCoffees:function(e){var t=e.commit;Ir.getCustomerCoffees().then((function(e){t("setCoffees",e)}))},getCustomerBags:function(e){var t=e.commit;ut.getCustomerBags().then((function(e){t("setBags",e)}))},getAllGroundLevels:function(e){var t=e.commit;Tr.getAllGroundLevels().then((function(e){t("setGroundLevels",e)}))},getAllMailPrices:function(e){var t=e.commit;jr.getAllMailPrices().then((function(e){t("setMailPrices",e)}))}}},Lr=Ar,Br=(r("a434"),{itemId:1,items:[],delivery_id:1}),qr={namespaced:!0,state:Br,mutations:{setItems:function(e,t){var r=t.items;e.items=r},setDeliveryId:function(e,t){e.delivery_id=t},pushProductToOrder:function(e,t){var r=t.item_id,n=t.coffee_id,o=t.coffee_name,a=t.weight,i=t.grams,s=t.bag_id,c=t.ground_level,l=t.ground_level_id,u=t.amount;e.items.push({item_id:r,coffee_id:n,coffee_name:o,weight:a,grams:i,bag_id:s,ground_level:c,ground_level_id:l,amount:u})},deleteItemFromOrder:function(e,t){var r=e.items.map((function(e){return e.item_id})).indexOf(t);e.items.splice(r,1)},deleteAllItemsFromOrder:function(e){e.items.splice(0,e.items.length)},replaceItemAmount:function(e,t){var r=t.item_id,n=t.newAmount,o=e.items.find((function(e){return e.item_id==r}));void 0!==o?o.amount=n:console.log("Item not found")},resetItemId:function(e){e.itemId=1},incrementItemId:function(e){e.itemId++}},actions:{addProductToOrder:function(e,t){var r=e.state,n=e.commit,o=t.item_id,a=t.coffee_id,i=t.coffee_name,s=t.weight,c=t.grams,l=t.bag_id,u=t.ground_level,d=t.ground_level_id,v=t.amount;return(void 0!==a||void 0!==i||void 0!==s||void 0!==c||void 0!==u||void 0!==v)&&(n("pushProductToOrder",{item_id:o,coffee_id:a,coffee_name:i,weight:s,bag_id:l,grams:c,ground_level:u,ground_level_id:d,amount:v}),console.log(r.items),!0)},removeProductFromOrder:function(e,t){e.state;var r=e.commit;r("deleteItemFromOrder",t)},incrementItemId:function(e){var t=e.commit;t("incrementItemId")},changeItemAmount:function(e,t){e.state;var r=e.commit,n=t.item_id,o=t.newAmount;r("replaceItemAmount",{item_id:n,newAmount:o})},chooseDelivery:function(e,t){e.state;var r=e.commit;r("setDeliveryId",t)},postOrder:function(e){var t=e.state,r=e.commit,n=[];return t.items.map((function(e){n.push([e.coffee_id,e.bag_id,e.ground_level_id,e.amount])})),new Promise((function(e,o){ee.postOrder(n,t.delivery_id).then((function(t){200==t&&(r("deleteAllItemsFromOrder"),r("resetItemId")),e(t)}),(function(e){o(e)}))}))},cancelOrder:function(e){var t=e.commit;t("deleteAllItemsFromOrder"),t("resetItemId")}},getters:{totalWeightGrams:function(e){var t=0;return e.items.map((function(e){t+=e.grams*e.amount})),{totalWeightGrams:t}}}},$r=qr,zr={allDeliveryOptions:[]},Gr={namespaced:!0,state:zr,mutations:{setDeliveryOptions:function(e,t){e.allDeliveryOptions=t}},actions:{getAllDeliveryOptions:function(e){var t=e.commit;jr.getAllDeliveryOptions().then((function(e){t("setDeliveryOptions",e),console.log(e)}))}}},Ur=Gr,Mr={token:"",user:{customer_id:-1,name:"",address:"",phone:-1,org_number:-1,email:"",active:-1,subscription:-1,zip_code:-1,ref_id:-1,last_login:-1}},Wr={namespaced:!0,state:Mr,mutations:{SET_TOKEN:function(e,t){e.token=t},SET_USER:function(e,t){e.user=t},SET_USER_INFO:function(e,t){e.user.name=t.name,e.user.address=t.address,e.user.phone=t.phone,e.user.org_number=t.org_number,e.user.email=t.email,e.user.subscription=parseInt(t.subscription),e.user.zip_code=t.zip_code},RESET:function(e){e.token="",e.user={customer_id:-1,name:"",address:"",phone:-1,org_number:-1,email:"",active:-1,subscription:-1,zip_code:-1,ref_id:-1,last_login:-1}}},actions:{login:function(e,t){var r=e.commit,n=t.token,o=t.user;r("SET_TOKEN",n),r("SET_USER",o),D.defaults.headers.common["Authorization"]="Bearer ".concat(n)},logout:function(e){var t=e.commit;console.log("logging out"),t("RESET"),t("order/deleteAllItemsFromOrder",null,{root:!0}),t("order/resetItemId",null,{root:!0})},updateUser:function(e,t){var r=e.commit;console.log("updating user state"),r("SET_USER",t)}},getters:{isLoggedIn:function(e){return e.token},getUser:function(e){return e.user}}},Hr=Wr,Yr=r("0e44");n["default"].use(I["a"]);var Zr=new I["a"].Store({strict:!0,state:{},mutations:{},actions:{},plugins:[Object(Yr["a"])({paths:["account","order"]})],modules:{products:Lr,order:$r,delivery:Ur,account:Hr}}),Jr=r("f309");n["default"].use(Jr["a"]);var Kr=new Jr["a"]({theme:{themes:{light:{primary:"#59c8a5",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"}}}});n["default"].config.productionTip=!1,D.defaults.headers.common["Authorization"]="Bearer ".concat(Zr.state.account.token),new n["default"]({router:Cr,store:Zr,vuetify:Kr,render:function(e){return e(U)}}).$mount("#app")},cf05:function(e,t,r){e.exports=r.p+"img/logo.f9e467fa.png"},d5a2:function(e,t,r){"use strict";var n=r("778b"),o=r.n(n);o.a},dfcc:function(e,t,r){"use strict";var n=r("7314"),o=r.n(n);o.a},e1fd:function(e,t,r){},e3b2:function(e,t,r){},e551:function(e,t,r){},ef1a:function(e,t,r){"use strict";var n=r("e3b2"),o=r.n(n);o.a},f4f3:function(e,t,r){"use strict";var n=r("0bda"),o=r.n(n);o.a}});
//# sourceMappingURL=app.bd0af89c.js.map